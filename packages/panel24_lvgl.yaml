number:
  - platform: template
    name: LVGL Screen timeout
    optimistic: true
    id: display_timeout
    unit_of_measurement: "s"
    initial_value: 45
    restore_value: true
    min_value: 10
    max_value: 180
    step: 5
    mode: box
 
globals:
 - id: my_code_int
   type: std::string
   #restore_value: no
   initial_value: '"0"'

font:
  - file: "gfonts://Roboto"  # Example using Google Fonts
    id: roboto40
    size: 40  # Set the font size to 20 pixels
    bpp: 4
  - file: "gfonts://Roboto"  # Example using Google Fonts
    id: roboto24
    size: 24  # Set the font size to 20 pixels
    bpp: 4
    
color:
  - id: my_red
    red: 100%
    green: 0%
    blue: 0%
  - id: my_yellow
    red: 100%
    green: 100%
    blue: 0%
  - id: my_green
    red: 0%
    green: 100%
    blue: 0%
  - id: my_blue
    red: 0%
    green: 0%
    blue: 100%
  - id: my_gray
    red: 50%
    green: 50%
    blue: 50%
  - id: my_orange
    red: 100%
    green: 50%
    blue: 0%
  - id: my_teal
    red: 0%
    green: 100%
    blue: 100%
  - id: my_white
    red: 100%
    green: 100%
    blue: 100%
  - id: my_black
    red: 0%
    green: 0%
    blue: 0%
    
lvgl:
  log_level: INFO
  color_depth: 16
  disp_bg_color: my_black
  style_definitions:
    - id: my_button_style
      text_font: roboto24  # Apply the custom font defined in step 1
      # Other style properties like text color, alignment, etc. can be added here
      #text_color: 0x000000 
      align: center
    - id: my_text_style
      text_font: roboto24 # Apply the custom font defined in step 1
      # Other style properties like text color, alignment, etc. can be added here
      #text_color: 0x000000 
      align: center
  on_idle:
    timeout: !lambda "return (id(display_timeout).state * 1000);"
    then:
      - logger.log: "LVGL is idle"
      - light.turn_off: back_light
      - lvgl.pause:    
  #240x320    
  pages:
    - id: main_page
      bg_color: my_black
      widgets:

        - button:
              id: water_level
              x: 0
              y: 0
              width: 80
              height: 80
              #checkable: true
              widgets:
                - label:
                    align: CENTER
                    text: 'Water'
                    styles: my_button_style 
              on_click:
                - logger.log: "Still executing"
                
        - obj:
              align: BOTTOM_MID
              y: -50
              layout:
                type: FLEX
                flex_flow: ROW
                flex_align_cross: CENTER
              width: SIZE_CONTENT
              height: SIZE_CONTENT
              #x: 10
              #y: 80
              #width: 160
              #height: 50
              
              widgets:
                - button:
                    id: spin_down
                    width: 60 
                    height: 60
                    on_click:
                      - lvgl.spinbox.decrement: spinbox_id
                    widgets:
                      - label:
                           text: "-"
                           style:
                             text_font: lvgl.font_montserrat_24
                - spinbox:
                    id: spinbox_id
                    align: CENTER
                    text_align: CENTER
                    width: 60
                    height: 70
                    range_from: 70
                    range_to: 105
                    #selected_digit: 1
                    rollover: false
                    digits: 3
                    decimal_places: 0
                    on_value:
                      then:
                        - homeassistant.action:
                            action: climate.set_temperature
                            data:
                              temperature: !lambda return id(target_temperature).state;
                              entity_id: climate.dock_pro_mike_dockpro
                - button:
                    id: spin_up
                    width: 60 
                    height: 60
                    on_click:
                      - lvgl.spinbox.increment: spinbox_id
                    widgets:
                      - label:
                          text: "+"

                
